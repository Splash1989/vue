{"remainingRequest":"C:\\Users\\reife\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\reife\\Documents\\Webseite Projekt\\vue\\webpage\\src\\RiverLevel\\RiverLevel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\reife\\Documents\\Webseite Projekt\\vue\\webpage\\src\\RiverLevel\\RiverLevel.vue","mtime":1593359313594},{"path":"C:\\Users\\reife\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\reife\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\reife\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZCYXIgZnJvbSAnLi4vTmF2YmFyLnZ1ZScKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJSaXZlckxldmVsIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBOYXZCYXIsCiAgICB9LAoKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJpdmVyT2JqZWN0OiB7fSwKICAgICAgICAgICAgd2F0ZXJHYXVnZTogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLAogICAgICAgICAgICBzdG9yYWdlOiAnJywKICAgICAgICAgICAgdGltZWxpbmU6IFsnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnXSwKICAgICAgICAgICAgaTogMCwKICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgejogMCwKICAgICAgICAgICAgbGVuZ3RoOiAwLAogICAgICAgICAgICBzYW1lOiAwLAogICAgICAgICAgICBuZXdBcnJheTogW10sCiAgICAgICAgICAgIGNpdHk6ICdEUkVTREVOJywKICAgICAgICAgICAgaW5wdXQ6ICcnLAogICAgICAgICAgICBjaXR5c3RvcmFnZTogJycKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHNldEludGVydmFsIChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly93d3cucGVnZWxvbmxpbmUud3N2LmRlL3dlYnNlcnZpY2VzL3Jlc3QtYXBpL3YyL3N0YXRpb25zLycrX3RoaXMuY2l0eSsnL1cvbWVhc3VyZW1lbnRzLmpzb24/c3RhcnQ9UDE1RCcpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiBfdGhpcy5yaXZlck9iamVjdCA9IHJlc3BvbnNlKTsKICAgICAgICAgICAgX3RoaXMubmV3UG9zdCgpOwogICAgICAgIH0sIDUwMDApOwogICAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly93d3cucGVnZWxvbmxpbmUud3N2LmRlL3dlYnNlcnZpY2VzL3Jlc3QtYXBpL3YyL3N0YXRpb25zLycrX3RoaXMuY2l0eSsnL1cvbWVhc3VyZW1lbnRzLmpzb24/c3RhcnQ9UDE1RCcpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHRoaXMucml2ZXJPYmplY3QgPSByZXNwb25zZSkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0VGFibGVMZXZlbCgpIHsKICAgICAgICAgICAgdGhpcy5uZXdBcnJheSA9IFtdOwogICAgICAgICAgICB0aGlzLndhdGVyR2F1Z2UuZm9yRWFjaChhID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc2FtZSA9IHRoaXMubmV3QXJyYXkuZmluZCh4ID0+IHggPT0gYSk7CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2FtZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubmV3QXJyYXkucHVzaChhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMubmV3QXJyYXkuc29ydCgpOwogICAgICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubmV3QXJyYXkubGVuZ3RoIC0gMTsKICAgICAgICAgICAgdGhpcy5uZXdBcnJheS5yZXZlcnNlKCk7CiAgICAgICAgfSwKICAgICAgICBuZXdQb3N0KCkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICBpZiAodGhpcy5zdG9yYWdlICE9PSB0aGlzLnJpdmVyT2JqZWN0LmRhdGFbMTQzOV0udGltZXN0YW1wIHwgdGhpcy5jaXR5c3RvcmFnZSAhPT0gdGhpcy5jaXR5KSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UgPSB0aGlzLnJpdmVyT2JqZWN0LmRhdGFbMTQzOV0udGltZXN0YW1wOwogICAgICAgICAgICAgICAgdGhpcy5jaXR5c3RvcmFnZSA9IHRoaXMuY2l0eTsKICAgICAgICAgICAgICAgIHRoaXMueiA9IDA7CiAgICAgICAgICAgICAgICBmb3IgKHRoaXMueSA9IDE0MjQ7IHRoaXMueSA8PSAxNDM5OyB0aGlzLnkrKykgewogICAgICAgICAgICAgICAgICAgIHRoaXMud2F0ZXJHYXVnZVt0aGlzLnpdID0gdGhpcy5yaXZlck9iamVjdC5kYXRhW3RoaXMueV0udmFsdWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lbGluZVt0aGlzLnpdID0gdGhpcy5yaXZlck9iamVjdC5kYXRhW3RoaXMueV0udGltZXN0YW1wLnJlcGxhY2UoLyheLnsxMX0pL2dtLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lbGluZVt0aGlzLnpdID0gIHRoaXMudGltZWxpbmVbdGhpcy56XS5yZXBsYWNlKC8oLi4uXCsuKikvZ20sICcnKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnorKwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLmdldFRhYmxlTGV2ZWwoKTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["RiverLevel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RiverLevel.vue","sourceRoot":"RiverLevel","sourcesContent":["<template>\r\n    <div id=\"riverLevel\">\r\n        <NavBar></NavBar>\r\n        <div id=\"graph\">\r\n            <table class=\"watergauge\">\r\n                <tr class=\"line\" >{{this.newArray[0]}} cm</tr>\r\n                <tr class=\"line\" >{{this.newArray[this.length]}} cm</tr>\r\n            </table>\r\n            <trend\r\n                    :data=\"[this.waterGauge[0], this.waterGauge[1], this.waterGauge[2], this.waterGauge[3],\r\n                    this.waterGauge[4], this.waterGauge[5], this.waterGauge[6], this.waterGauge[7], this.waterGauge[8],\r\n                    this.waterGauge[9], this.waterGauge[10], this.waterGauge[11], this.waterGauge[12], this.waterGauge[13],\r\n                    this.waterGauge[14]]\"\r\n                    :gradient=\"['#0404B4']\"\r\n                    auto-draw\r\n                    smooth\r\n            >\r\n            </trend>\r\n        </div>\r\n        <div class=\"timeline\">\r\n            <p class=\"timelineentry\"  v-for=\"time in timeline\">{{time}}</p>\r\n        </div>\r\n        <div id=\"inputcity\">\r\n            <div>Watergauge {{this.city}}</div>\r\n            <label>want to know of your city? </label><input class=\"city\" v-model=\"input\"/>\r\n            <button @click=\"city = input\">Get riverlevel</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import NavBar from '../Navbar.vue'\r\n    import axios from \"axios\";\r\n\r\n    export default {\r\n        name: \"RiverLevel\",\r\n        components: {\r\n            NavBar,\r\n        },\r\n\r\n        data () {\r\n            return {\r\n                riverObject: {},\r\n                waterGauge: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                storage: '',\r\n                timeline: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],\r\n                i: 0,\r\n                y: 0,\r\n                z: 0,\r\n                length: 0,\r\n                same: 0,\r\n                newArray: [],\r\n                city: 'DRESDEN',\r\n                input: '',\r\n                citystorage: ''\r\n            }\r\n        },\r\n        mounted() {\r\n            var _this = this;\r\n            setInterval (function () {\r\n                axios.get('https://www.pegelonline.wsv.de/webservices/rest-api/v2/stations/'+_this.city+'/W/measurements.json?start=P15D')\r\n                    .then(response => _this.riverObject = response);\r\n                _this.newPost();\r\n            }, 5000);\r\n            axios.get('https://www.pegelonline.wsv.de/webservices/rest-api/v2/stations/'+_this.city+'/W/measurements.json?start=P15D')\r\n                .then(response => this.riverObject = response)\r\n        },\r\n        methods: {\r\n            getTableLevel() {\r\n                this.newArray = [];\r\n                this.waterGauge.forEach(a => {\r\n                    this.same = this.newArray.find(x => x == a);\r\n                    if (!this.same) {\r\n                        this.newArray.push(a);\r\n                    }\r\n                });\r\n                this.newArray.sort();\r\n                this.length = this.newArray.length - 1;\r\n                this.newArray.reverse();\r\n            },\r\n            newPost() {\r\n                var _this = this;\r\n                if (this.storage !== this.riverObject.data[1439].timestamp | this.citystorage !== this.city) {\r\n                    this.storage = this.riverObject.data[1439].timestamp;\r\n                    this.citystorage = this.city;\r\n                    this.z = 0;\r\n                    for (this.y = 1424; this.y <= 1439; this.y++) {\r\n                        this.waterGauge[this.z] = this.riverObject.data[this.y].value;\r\n                        this.timeline[this.z] = this.riverObject.data[this.y].timestamp.replace(/(^.{11})/gm, '');\r\n                        this.timeline[this.z] =  this.timeline[this.z].replace(/(...\\+.*)/gm, '');\r\n                        this.z++\r\n                    }\r\n                }\r\n                _this.getTableLevel();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #riverLevel {}\r\n    .timeline {\r\n        display: flex;\r\n        text-align: center;\r\n        grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\r\n        grid-gap: 1px;\r\n        margin-left: 30px;\r\n        justify-content: space-around;\r\n    }\r\n    #graph {\r\n        display: flex;\r\n        grid-template-colums: 1fr 1fr;\r\n        background-color: white;\r\n        opacity: 0.5;\r\n    }\r\n    .watergauge {\r\n        margin-top: auto;\r\n        margin-bottom: auto;\r\n        display: grid;\r\n        grid-template-columns: 1fr;\r\n    }\r\n\r\n    .timelineentry {\r\n        font-size: 20px;\r\n        color: white;\r\n    }\r\n\r\n</style>"]}]}